@page "/Orders"
@using System.Data


@inject HttpClient HttpClient

<h3>Orders</h3>

<select @onchange="GetOrderByCustomer" class="form-control">
	<option>Choose A Customer</option>
	@foreach (var order in OrderList)
	{
		<option value="@order.Customer.Email">@order.Customer.Email</option>
	}
</select>

<h3>Products in Order</h3>


<label class="col-sm-2 col-form-label">Date Ordered: @CurrentOrder.DateOrdered</label>
<label class="col-sm-2 col-form-label">Order Id: @CurrentOrder.Id</label>

<table class="table">
	<thead>
	<tr>
		<th></th>
		<th>Name</th>
		<th>Description</th>
		<th>Type</th>
		<th>In Stock</th>
		<th>Price</th>
		<th>Product Number</th>
	</tr>
	</thead>

	<tbody>
	
	
	<Virtualize Items="Products.OrderByDescending(p => p.Price).ToArray()" Context="product">
		<tr>
			<td>
				<img src="@product.ImgURL" width="100" height="100" alt="product image"/>
			</td>
			<td class="align-middle">
				@product.Name
			</td>
			<td class="align-middle">
				@product.Description
			</td>
			<td class="align-middle">
				@product.Type
			</td>
			<td class="align-middle">
				@product.Status
			</td>
			<td class="align-middle">
				@product.Price
			</td>
			<td class="align-middle">
				@product.ProductId
			</td>
		</tr>
	</Virtualize>
	</tbody>
</table>

